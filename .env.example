# Babbel API Production Configuration
# Copy this file to .env and configure your values
# See README.md for complete setup instructions

# MySQL Configuration
MYSQL_ROOT_PASSWORD=change_this_root_password
MYSQL_PASSWORD=change_this_password

# Database Configuration
# Optional: Override default database settings
# BABBEL_DB_HOST=mysql        # Default: mysql (Docker service name)
# BABBEL_DB_USER=babbel       # Default: babbel
# BABBEL_DB_NAME=babbel       # Default: babbel
# BABBEL_ENV=production       # Default: production

# Session Configuration
# Generate a secure 32-character secret: openssl rand -hex 16
SESSION_SECRET=change_this_to_32_char_random_string_please

# Authentication Method
# Options: local, oidc, both
# - local: Username/password only
# - oidc: OAuth/OIDC only (Microsoft, Google, etc.)
# - both: Both local and OAuth login available
AUTH_METHOD=both

# OAuth/OIDC Configuration (optional)
# Only required if AUTH_METHOD is "oidc" or "both"
OIDC_PROVIDER_URL=https://login.microsoftonline.com/YOUR-TENANT-ID/v2.0
OIDC_CLIENT_ID=your-client-id-from-azure-ad
OIDC_CLIENT_SECRET=your-client-secret-from-azure-ad
OIDC_REDIRECT_URL=https://your-api-domain.com/api/v1/auth/oauth/callback

# Frontend Configuration (required for OAuth)
# URL where users will be redirected after OAuth login
BABBEL_FRONTEND_URL=https://your-frontend-domain.com

# API Port
# The port where the API will be accessible on the host
API_PORT=8080

# Timezone
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=Europe/Amsterdam

# CORS Configuration
# Comma-separated list of allowed origins for browser access
# Leave empty to disable CORS (API-only access, no browser access)
# Required if your frontend runs on a different domain than the API
# Examples:
# - Development: http://localhost:3000,http://localhost:5173
# - Production: https://your-frontend-domain.com
# - Multiple: https://app.domain.com,https://staging.domain.com
# - Should match BABBEL_FRONTEND_URL if using OAuth
BABBEL_ALLOWED_ORIGINS=https://your-frontend-domain.com

# Cookie Configuration (for cross-subdomain authentication)
# Set cookie domain to share cookies across subdomains
# Examples:
# - For *.zuidwest.cloud: .zuidwest.cloud (note the leading dot)
# - For single domain: leave empty
# - For localhost: leave empty
BABBEL_COOKIE_DOMAIN=

# Cookie SameSite attribute
# Options: strict, lax, none
# - Use "none" for cross-subdomain requests (requires HTTPS)
# - Use "lax" for same-site requests (default)
# - Use "strict" for maximum security (may break OAuth flows)
BABBEL_COOKIE_SAMESITE=lax

# Radio Automation Integration
# Enable public bulletin endpoint for radio automation systems
# Leave empty to disable the endpoint (returns 404)
# Generate a secure key: openssl rand -hex 32
# BABBEL_AUTOMATION_KEY=your-secure-api-key-here

# Automation timeout for bulletin generation (default: 120s)
# BABBEL_AUTOMATION_TIMEOUT=120s

# Text-to-Speech (ElevenLabs)
# Enable TTS by providing an API key from https://elevenlabs.io
# BABBEL_ELEVENLABS_API_KEY=your-elevenlabs-api-key
# BABBEL_ELEVENLABS_MODEL=eleven_multilingual_v2
# BABBEL_ELEVENLABS_TIMEOUT=60s

# Bulletin File Cleanup
# How long to keep bulletin audio files before automatic deletion (default: 168h = 7 days)
# Database records are preserved as audit trail. Uses Go duration format (e.g., 72h, 168h, 720h)
# BABBEL_BULLETIN_RETENTION=168h
